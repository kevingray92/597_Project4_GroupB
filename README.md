# 597_Project4_GroupB
## ATMS 597: Weather and Climate Data Science
### Project 4 Group B

Group Members: David Lafferty, Kevin Gray, Jeff Thayer

This program uses two regression techniques (multiple linear and random forest) from the sklearn package and two datasets (KCMI observations and GFS model forecasts) to predict daily maximum temperature, minimum temperature, maximum wind speed, and total accumulated precipitation from 06Z-06Z over the period 2010-2019 for Champaign, Illinois. Data from 2010-2018 is used for training and 2019 is used for validation (i.e. testing). The accuracy of each regression technique is determined by the root mean squared error (RMSE) for each of the 4 predicted variables.

KCMI (Champaign, Illinois) daily extreme observations used in this program are for the period 06Z-06Z, while hourly observations are used from 12Z-23Z the day prior to the 06Z-06Z predicted period. Of note, the daily accumulated precipitation lacks sufficient temporal coverage over 2010-2019, and thus the hourly precipitation resampled at a daily frequency (i.e. daily accumulated precipitation) is used in its place. Additional variables (e.g. pressure, cloud cover, dewpoint, geopotential height, etc.) from Global Forecast System (GFS) 3-hourly surface and profile model data valid for 06Z-06Z and initialized at 12Z the previous day are also used for training and validation. Year, month, and day values are included to further broaden the variable list to increase the chances of finding all relevant parameters useful for predicting the 4 desired variables.

Before using the regression techniques, KCMI daily observation files were combined into a single Dataframe using pandas, noting the changed accumulated precipitation data described above. With a constraint that hourly observations could not be used after 23Z the day prior, the hourly observations were averaged from 12Z-23Z for each day and then combined into a single Dataframe using pandas. The timestamp for these hourly-averaged variables was increased by 1 day to be useful for predicting variables on the next day. GFS daily data were used unchanged from the original files. The average, minimum, and maximum of each GFS surface variable and each profile variable below 100hPa were calculated. Dewpoint depression (i.e. temperature - dewpoint temperature) averages, minimums, and maximums were also calculated from the surface and profile data to give an estimate of relative humidity. GFS daily, surface, and profile data files were then combined into their own single Dataframes using pandas. A day was added to the timestamp for the surface and profile data to enable prediction usage as with the KCMI hourly observations.  

For each regression technique, the observational and model forecast data were combined into a single Dataframe of all variables, which was then separated into the training and validation time periods as mentioned previously. Only days present in all datasets and without missing or NaN values were used. Before selecting the variable lists, hyperparameter optimization was performed for the random forest regression using RandomizedSearchCV for 300 random hyperparameter combinations. The best random hyperparameter combination was then further adjusted to yield additional prediction skill. Selective inclusion of variables for each regression technique was then performed to manually assess the usefulness for prediction of the 4 desired variables, with different variable lists for each predicted variable giving the best results. Before RMSEs were finally calculated to assess regression performance, negative predictions for maximum wind speed and accumulated precipitation were set to 0 in each regression technique, which had noticeable improvements in the resulting RMSEs. Regression performance was then determined by calculating the RMSE for each of the 4 desired variables. 

